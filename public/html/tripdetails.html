<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expense Tracker</title>
    <link rel="icon" href="data:," />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.5.0/chart.umd.min.js"></script>
    <link rel="stylesheet" href="../css/tripdetails.css" />
  </head>
  <body>
    <div class="subheader" id="subheader">
      <div class="left-buttons">
        <i
          class="fa-solid fa-arrow-left"
          id="triphome_back"
          hidden
          title="Back"
        ></i>
        <p id="tripname" class="tripname"></p>
      </div>
      <div class="right-buttons">
        <!-- <i class="fa-solid fa-magnifying-glass"></i> -->
        <i
          class="fa-solid fa-gear"
          id="trip_settings_icon"
          title="Settings"
        ></i>
      </div>
    </div>
    <div class="trip_main_details" id="trip_main_details">
      <hr />
      <div class="expense_calculation" id="expense_calculation">
        <div class="button-groups">
          <button
            class="btn btn1"
            onclick="toggleview('categorydetails')"
            id="viewcategories"
          >
            View Categories
          </button>
          <button
            class="btn btn2 show"
            onclick="toggleview('expensedetails')"
            id="allexpenses"
          >
            Full Expense List
          </button>
        </div>
        <div class="totalexpenses" id="totalexpenses">
          <p class="total">Total</p>
          <p id="fullamt" class="fullamt">₹ 0</p>
        </div>
      </div>
      <p class="exp_count" id="exp_count"></p>
      <div class="expense_list" id="expense_list"></div>

      <div class="category_list" id="category_list" hidden></div>

      <div class="trip_footer">
        <button id="add_expense" class="add_expense">Add Expense</button>
        <button
          id="exp_summary"
          class="summary_expense"
          onclick="gotoSummaryview()"
        >
          Summary
        </button>
      </div>
    </div>

    <div class="trip_settings" id="trip_settings" hidden>
      <hr />
      <div class="trip_setting_header" id="trip_setting_header">
        <p id="trip_setting_tripname" class="trip_setting_tripname"></p>
        <p id="numberofpp" class="numberofpp"></p>
      </div>
      <hr />
      <div class="groupmembers">
        <h5>Group Members</h5>
      </div>
      <div class="groupmember_details">
        <i class="fa-solid fa-user-plus first-letter-badge"></i>
        <p id="addparticipants" class="addparticipants">
          Add a new participants
        </p>
      </div>
      <div class="gm_members" id="gm_members"></div>

      <hr />
      <div class="groupmembers deletegroup" onclick="showPopup()">
        <h6>Delete Group</h6>
      </div>
    </div>

    <div class="addexpense" id="addexpense" hidden>
      <div class="subheader" id="subheader_add_expense">
        <div class="left-buttons">
          <i
            class="fa-solid fa-arrow-left"
            id="add_exp_back"
            hidden
            title="Back"
          ></i>
          <p id="tripname" class="tripname">Add Expense</p>
        </div>
      </div>
      <hr />
      <div class="addexp_tripname" id="addexp_tripname">
        <p id="addexp_tripname_p"></p>
      </div>
      <hr />
      <div class="addexp_details" id="addexp_details">
        <div class="addexp_desc">
          <div class="label-row">
            <p>Towards</p>
          </div>
          <div class="input-row">
            <div class="icondisplay" id="icon_display"></div>
            <select name="category" placeholder="Category" id="category">
              <option value="" disabled selected>
                Please select a category
              </option>
              <option value="Transport">Transport</option>
              <option value="Local_Transport">
                Local Transport/Safari/Jeep
              </option>
              <option value="Accomodation">Accomodation</option>
              <option value="Ticket">Entry Tickets</option>
              <option value="Food">Food</option>
              <option value="Snacks">Snacks</option>
              <option value="Fuel">Fuel</option>
              <option value="Advance_Payment">Advance Payment</option>
              <option value="Others">Others/Common Expenses</option>
            </select>
          </div>
        </div>

        <div class="addexp_food" id="addexp_food" hidden>
          <p>Do you want to split Veg and Non-Veg amount?</p>
          <div class="radiooption" id="foodoption">
            <label>
              <input type="radio" name="foodoption" value="Yes" /> Yes
            </label>
            <label>
              <input type="radio" name="foodoption" value="No" /> No
            </label>
          </div>
          <div class="foodshare" id="foodshare">
            <p>
              Do you know the amount, or would you prefer to split it in a 60-40
              ratio?
            </p>
            <div class="radiooption" id="foodshare_option">
              <label>
                <input type="radio" name="foodshare" value="60_40" /> 60:40
              </label>
              <label>
                <input type="radio" name="foodshare" value="Yes" /> Yes
              </label>
            </div>
            <div class="foodamt" id="foodamt">
              <div class="label-row">
                <p>Enter the Amount</p>
              </div>
              <div class="input-row">
                <div class="rupee-wrapper">
                  <span class="rupee-symbol">₹</span>
                  <input type="number" placeholder="Veg amount" id="exp_veg" />
                </div>
                <div class="rupee-wrapper">
                  <span class="rupee-symbol">₹</span>
                  <input
                    type="number"
                    placeholder="Non-Veg amount"
                    id="exp_nveg"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="addexp_amt" id="addexp_amt">
          <div class="label-row">
            <p>Enter the Amount</p>
          </div>
          <div class="input-row">
            <div class="rupee-wrapper">
              <span class="rupee-symbol">₹</span>
              <input type="number" placeholder="Amount" id="exp_amt" />
            </div>
          </div>
        </div>
        <div class="addexp_paidby">
          <div class="label-row">
            <p>Paid By</p>
          </div>
          <div class="input-row">
            <div class="icondisplay" id="icon_display_1"></div>
            <select
              name="guestlist"
              placeholder="Guest"
              id="exp_guest"
            ></select>
          </div>
        </div>
        <div class="addexp_date">
          <div class="label-row">
            <p>Paid on</p>
          </div>
          <div class="input-row">
            <div class="rupee-wrapper">
              <i class="fa-solid fa-calendar"></i>
              <input type="date" placeholder="Date" id="exp_date" />
            </div>
          </div>
        </div>
      </div>
      <hr />
      <div class="addexp_btn" id="addexp_btn">
        <div class="button-group">
          <button onclick="save_new_exp()">Save & Create New</button>
          <button onclick="save_exp()">Save</button>
          <button onclick="cancel_exp()">Cancel</button>
        </div>
      </div>
    </div>

    <div class="editexpense" id="editexpense" hidden>
      <div class="subheader" id="subheader_edit_expense">
        <div class="left-buttons">
          <i
            class="fa-solid fa-arrow-left"
            id="edit_exp_back"
            hidden
            title="Back"
          ></i>
          <p id="tripname" class="tripname">Edit Expense</p>
        </div>
      </div>
      <hr />
      <div class="editexp_details" id="editexp_details">
        <div class="editexp_desc">
          <div class="label-row">
            <p>Towards</p>
          </div>
          <div class="input-row">
            <div class="icondisplay" id="edit_icon_display"></div>
            <select name="category" placeholder="Category" id="edit_category">
              <option value="" disabled selected>
                Please select a category
              </option>
              <option value="Transport">Transport</option>
              <option value="Local_Transport">
                Local Transport/Safari/Jeep
              </option>
              <option value="Accomodation">Accomodation</option>
              <option value="Ticket">Entry Tickets</option>
              <option value="Food">Food</option>
              <option value="Snacks">Snacks</option>
              <option value="Fuel">Fuel</option>
              <option value="Advance_Payment">Advance Payment</option>
              <option value="Others">Others/Common Expenses</option>
            </select>
          </div>
        </div>
        <div class="editexp_food" id="editexp_food" hidden>
          <p>Do you want to split Veg and Non-Veg amount?</p>
          <div class="radiooption" id="editfoodoption">
            <label>
              <input type="radio" name="editfoodoption" value="Yes" /> Yes
            </label>
            <label>
              <input type="radio" name="editfoodoption" value="No" /> No
            </label>
          </div>
          <div class="foodshare" id="editfoodshare">
            <p>
              Do you know the amount, or would you prefer to split it in a 60-40
              ratio?
            </p>
            <div class="radiooption" id="editfoodshare_option">
              <label>
                <input type="radio" name="editfoodshare" value="60_40" /> 60:40
              </label>
              <label>
                <input type="radio" name="editfoodshare" value="Yes" /> Yes
              </label>
            </div>
            <div class="foodamt" id="editfoodamt">
              <div class="label-row">
                <p>Enter the Amount</p>
              </div>
              <div class="input-row">
                <div class="rupee-wrapper">
                  <span class="rupee-symbol">₹</span>
                  <input
                    type="number"
                    placeholder="Veg amount"
                    id="editexp_veg"
                  />
                </div>
                <div class="rupee-wrapper">
                  <span class="rupee-symbol">₹</span>
                  <input
                    type="number"
                    placeholder="Non-Veg amount"
                    id="editexp_nveg"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="editexp_amt" id="editexp_amt">
          <div class="label-row">
            <p>Enter the Amount</p>
          </div>
          <div class="input-row">
            <div class="rupee-wrapper">
              <span class="rupee-symbol">₹</span>
              <input type="number" placeholder="Amount" id="edit_exp_amt" />
            </div>
          </div>
        </div>
        <div class="editexp_paidby">
          <div class="label-row">
            <p>Paid By</p>
          </div>
          <div class="input-row">
            <div class="icondisplay" id="edit_icon_display_1"></div>
            <select
              name="guestlist"
              placeholder="Guest"
              id="edit_exp_guest"
            ></select>
          </div>
        </div>
        <div class="editexp_date">
          <div class="label-row">
            <p>Paid on</p>
          </div>
          <div class="input-row">
            <div class="rupee-wrapper" id="special">
              <i class="fa-solid fa-calendar"></i>
              <input type="date" placeholder="Date" id="edit_exp_date" />
            </div>
          </div>
          <!-- <div class="input-row">
                <div class="rupee-wrapper">
                  <i class="fa-solid fa-calendar"></i>
                  <input type="date" placeholder="Date" id="edit_exp_date" />
                </div>
            </div> -->
        </div>
      </div>
      <hr />
      <div class="editexp_btn" id="editexp_btn">
        <div class="button-group">
          <button onclick="save_edit_exp()">Update</button>
          <button onclick="cancel_edit_exp()">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Popups -->
    <div id="popup_delete_group" class="popup-overlay">
      <div class="popup-box">
        <p>Are you sure you want to delete this trip?</p>
        <div class="button-group">
          <button onclick="confirmDelete()">Yes</button>
          <button onclick="hidePopup()">Cancel</button>
        </div>
      </div>
    </div>
    <div class="popup-overlay" id="pp_popupForm">
      <div class="popup-box">
        <h3>Add Guest</h3>
        <div class="input-group">
          <input type="text" id="guestname" placeholder=" " />
          <label for="name">Name</label>
        </div>
        <div class="input-group">
          <input type="text" id="flatNumber" placeholder=" " />
          <label for="flatNumber">Flat Number</label>
        </div>
        <div class="input-group">
          <input type="number" id="noOfAdults" placeholder=" " value="0" />
          <label for="noOfAdults">Number of Adults</label>
        </div>
        <div class="input-group">
          <input type="number" placeholder=" " id="noOfKids" value="0" />
          <label for="noOfKids">Number of Kids > 5 yrs</label>
        </div>
        <div class="input-group">
          <input type="number" placeholder=" " id="veg" value="0" />
          <label for="veg">Number of Veg</label>
        </div>
        <div class="input-group">
          <input type="number" placeholder=" " id="nv" value="0" />
          <label for="nv">Number of Non-Veg</label>
        </div>
        <div class="input-group">
          <input type="text" placeholder=" " id="tripname_PP" readonly />
          <label for="tripname_PP">Name of the Trip</label>
        </div>
        <div class="input-group">
          <input type="checkbox" placeholder=" " id="admin_PP" readonly />
          <label for="admin_PP">Admin?</label>
        </div>
        <div class="button-group">
          <button onclick="submitForm()">Submit</button>
          <button class="close-btn" onclick="closeForm_pp()">Close</button>
        </div>
      </div>
    </div>
    <div id="popup_delete_guest" class="popup-overlay">
      <div class="popup-box">
        <p>Do you really want to delete this guest?</p>
        <div class="button-group">
          <button onclick="confirmguestDelete()">Yes</button>
          <button onclick="hidedeletePopup()">Cancel</button>
        </div>
      </div>
    </div>
    <div class="popup-overlay" id="pp_edit_popupForm">
      <div class="popup-box">
        <h3>Edit Guest</h3>
        <div class="input-group">
          <input type="text" id="edit_guestname" placeholder=" " />
          <label for="edit_guestname">Name</label>
        </div>
        <div class="input-group">
          <input type="text" id="edit_flatNumber" placeholder=" " />
          <label for="edit_flatNumber">Flat Number</label>
        </div>
        <div class="input-group">
          <input type="number" id="edit_noOfAdults" placeholder=" " value="0" />
          <label for="edit_noOfAdults">Number of Adults</label>
        </div>
        <div class="input-group">
          <input type="number" placeholder=" " id="edit_noOfKids" value="0" />
          <label for="edit_noOfKids">Number of Kids > 5 yrs</label>
        </div>
        <div class="input-group">
          <input type="number" placeholder=" " id="edit_veg" value="0" />
          <label for="edit_veg">Number of Veg</label>
        </div>
        <div class="input-group">
          <input type="number" placeholder=" " id="edit_nv" value="0" />
          <label for="edit_nv">Number of Non-Veg</label>
        </div>
        <div class="input-group">
          <input type="text" placeholder=" " id="edit_tripname_PP" readonly />
          <label for="edit_tripname_PP">Name of the Trip</label>
        </div>
        <div class="input-group">
          <input type="checkbox" placeholder=" " id="edit_admin_PP" />
          <label for="edit_admin_PP">Admin?</label>
        </div>
        <div class="button-group">
          <button onclick="submitEditForm()">Update</button>
          <button class="close-btn" onclick="closeEditForm_pp()">Close</button>
        </div>
      </div>
    </div>
    <div id="popup_delete_exp" class="popup-overlay">
      <div class="popup-box">
        <p>Do you really want to delete this expense?</p>
        <div class="button-group">
          <button onclick="confirmExpDelete()">Yes</button>
          <button onclick="hideExpdeletePopup()">Cancel</button>
        </div>
      </div>
    </div>
    <div id="notification" class="notification"></div>
    <script src="../js/tripdetails.js"></script>
  </body>
</html>
